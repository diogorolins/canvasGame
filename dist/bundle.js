!function(t){var i={};function e(s){if(i[s])return i[s].exports;var h=i[s]={i:s,l:!1,exports:{}};return t[s].call(h.exports,h,h.exports,e),h.l=!0,h.exports}e.m=t,e.c=i,e.d=function(t,i,s){e.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:s})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,i){if(1&i&&(t=e(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(e.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var h in t)e.d(s,h,function(i){return t[i]}.bind(null,h));return s},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},e.p="",e(e.s=0)}([function(t,i,e){"use strict";e.r(i);var s=class{constructor(t,i,e){this.posX=i.player.x,this.posY=i.player.height,this.width=i.player.size,this.height=i.player.height,this.speed=i.player.speed,this.settings=i,this.context=t,this.bigHouses=e,this.moveCommands={39:{move:"right",function:t=>{39!==t&&this.moveRight(this.checkRightLimit())}},37:{move:"left",function:t=>{37!==t&&this.moveLeft(this.checkLeftLimit())}},38:{move:"up",function:t=>{38!==t&&this.moveUp(this.checkTopLimit())}},40:{move:"down",function:t=>{40!==t&&this.moveDown(this.checkDownLimit())}}},this.moves={right:[{x:81,y:44},{x:102,y:44},{x:123,y:44},{x:146,y:44},{x:168,y:44}],left:[{x:83,y:125},{x:102,y:125},{x:126,y:125},{x:149,y:125},{x:171,y:125}],up:[{x:83,y:86},{x:104,y:86},{x:126,y:86},{x:149,y:86},{x:171,y:86}],down:[{x:83,y:6},{x:104,y:6},{x:125,y:6},{x:146,y:6},{x:168,y:6}]},this.actualDirection="right",this.actualMove=0}drawPlayer(t){this.frames=t;const i=new Image;i.src="./images/sprite.png";const e=this.moves[this.actualDirection][this.actualMove].x,s=this.moves[this.actualDirection][this.actualMove].y;this.context.drawImage(i,e,s,24,37,this.posX,this.posY,this.width,this.height)}applyCommand(t,i){this.moveCommands[t]&&this.moveCommands[t].function(i)}checkPlayerMoves(){this.frames%8==0&&(this.actualMove<this.moves[this.actualDirection].length-1?this.actualMove+=1:this.actualMove=0)}moveRight(t){"right"!==this.actualDirection&&(this.actualMove=0),this.actualDirection="right";let i=!1;"right"===this.lastMove?i=this.checkHouseLimit("right"):this.lastMove="right",t||i||(this.posX=this.posX+this.speed,this.checkPlayerMoves(this.frames))}moveLeft(t){"left"!==this.actualDirection&&(this.actualMove=0),this.actualDirection="left";let i=!1;"left"===this.lastMove?i=this.checkHouseLimit("left"):this.lastMove="left",t||i||(this.posX=this.posX-this.speed,this.checkPlayerMoves(this.frames))}moveUp(t){"up"!==this.actualDirection&&(this.actualMove=0),this.actualDirection="up";let i=!1;"up"===this.lastMove?i=this.checkHouseLimit("up"):this.lastMove="up",t||i||(this.posY=this.posY-this.speed,this.checkPlayerMoves(this.frames))}moveDown(t){"down"!==this.actualDirection&&(this.actualMove=0),this.actualDirection="down";let i=!1;"down"===this.lastMove?i=this.checkHouseLimit("down"):this.lastMove="down",t||i||(this.posY=this.posY+this.speed,this.checkPlayerMoves(this.frames))}checkTopLimit(){return this.posY<=0}checkDownLimit(){return this.posY>=this.settings.screen.height-this.height}checkLeftLimit(){return this.posX<=0}checkRightLimit(){return this.posX+this.width>=this.settings.screen.width}checkHouseLimit(t){let i=!1;return this.bigHouses.forEach(e=>{this.posY+this.height<=e.y+e.height+20&&this.posY>=e.y+e.height-150&&this.posX<=e.x+e.width&&this.posX+this.width>=e.x&&(i=!0,this.lastMove=t)}),i}};var h=class{constructor(t,i){this.context=t,this.settings=i}drawBackground(){const t=new Image;t.src="./images/background.png",this.context.drawImage(t,0,0,918,515,0,0,this.settings.screen.width,this.settings.screen.height)}};var o=class{constructor(t,i,e,s){this.x=t,this.y=i,this.width=s.bigHouse.width,this.height=s.bigHouse.height,this.context=e,this.settings=s}drawHouse(){const t=new Image;t.src="./images/houses.png",this.context.drawImage(t,this.settings.bigHouse.originalX,this.settings.bigHouse.originalY,this.settings.bigHouse.originalWidth,this.settings.bigHouse.orifinalHeight,this.x,this.y,this.width,this.height)}};var n=class{constructor(t,i,e,s){this.x=t,this.y=i,this.width=s.coffeShop.width,this.height=s.coffeShop.height,this.context=e,this.settings=s}drawCoffeShop(){const t=new Image;t.src="./images/houses.png",this.context.drawImage(t,this.settings.coffeShop.originalX,this.settings.coffeShop.originalY,this.settings.coffeShop.originalWidth,this.settings.coffeShop.orifinalHeight,this.x,this.y,this.width,this.height)}};const a={screen:{height:canvas.height,width:canvas.width},player:{x:250,size:47,height:65,speed:2},bigHouse:{originalX:0,originalY:6,originalWidth:143,orifinalHeight:105,height:205,width:243},coffeShop:{originalX:289,originalY:32,originalWidth:78,orifinalHeight:79,height:179,width:178}},r=document.getElementById("canvas").getContext("2d");let c=[],l=new o(20,100,r,a),u=new o(700,100,r,a);c.push(l,u);let g=new h(r,a),d=new s(r,a,c),p=new n(320,120,r,a),f="",m="",v=0;document.addEventListener("keydown",t=>{var i;i=t.keyCode,f=i,m=""}),document.addEventListener("keyup",t=>{var i;i=t.keyCode,m=i}),function t(){r.fillStyle="#087050",r.fillRect(0,0,800,600),g.drawBackground(),p.drawCoffeShop(),c.forEach(t=>t.drawHouse()),d.drawPlayer(v),d.applyCommand(f,m),v+=1,requestAnimationFrame(t)}()}]);